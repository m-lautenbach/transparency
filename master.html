<!doctype html>
<html>
  <head>
    <title>transparency master</title>
  </head>
  <script src="/js/socket.io.min.js"></script>
  <script src="/js/rx.all.min.js"></script>
  <script src="/js/lodash.min.js"></script>
  <script>
    var socket = io('/master')
    var list = Rx.Observable
        .fromEvent(socket, 'client list')
    var connections = Rx.Observable
        .fromEvent(socket, 'client connected')
    var disconnections = Rx.Observable
        .fromEvent(socket, 'client disconnected')

    Rx.Observable
        .merge(list, connections, disconnections)
        .subscribe(
            function(event) {
                console.log(event)
            }
        )
  </script>
  <body>
  </body>
</html>
