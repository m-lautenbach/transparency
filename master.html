<!doctype html>
<html>
  <head>
    <title>transparency master</title>
  </head>
  <script src="/js/socket.io.min.js"></script>
  <script src="/js/rx.all.min.js"></script>
  <script src="/js/lodash.min.js"></script>
  <script>
    var accumulate = function(list, item) {
        return list.concat([item])
    }
    var socket = io('/master')

    var initialList = Rx.Observable
        .fromEvent(socket, 'client list')
    var connections = Rx.Observable
        .fromEvent(socket, 'client connected')
        .scan(accumulate, [])
    var disconnections = Rx.Observable
        .fromEvent(socket, 'client disconnected')
        .scan(accumulate, [])


  </script>
  <body>
  </body>
</html>
